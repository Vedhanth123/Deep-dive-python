<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mastering Python Requests & Modern Tooling</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap');
        
        body {
            font-family: 'Inter', sans-serif;
            background-color: #F3F4F6; /* Gray 100 */
            color: #1F2937; /* Gray 800 */
        }

        /* Chart Container Styling - MANDATORY */
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 350px;
            max-height: 400px;
        }

        @media (min-width: 768px) {
            .chart-container {
                height: 400px;
            }
        }

        /* Custom Card Styling */
        .info-card {
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            transition: transform 0.2s ease;
        }
        .info-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }

        /* Timeline CSS (No SVG) */
        .timeline-line {
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            width: 4px;
            height: 100%;
            background-color: #E5E7EB;
            z-index: 0;
        }
        
        .flow-arrow {
            width: 0; 
            height: 0; 
            border-left: 10px solid transparent;
            border-right: 10px solid transparent;
            border-top: 15px solid #3B82F6;
            margin: 0 auto;
        }
    </style>
    <!-- 
        Palette Used: "Energetic Tech"
        Primary Blue: #3B82F6
        Secondary Orange: #F97316
        Accent Purple: #8B5CF6
        Success Green: #10B981
        Error Red: #EF4444
        Background: #F3F4F6
    -->
    <!-- 
        Narrative Plan:
        1. Intro: The Python Ecosystem.
        2. Requests: The dominance of the library.
        3. HTTP: Understanding the "Truck" (Methods/Status).
        4. Modern Tooling: The Speed of UV vs Pip.
        5. Evolution: From setup.py to pyproject.toml.
        6. Best Practices: Safety and Sessions.
    -->
    <!-- NO SVG used in this document. NO Mermaid JS used. -->
</head>
<body class="p-4 md:p-8">

    <!-- Header Section -->
    <header class="max-w-7xl mx-auto mb-12 text-center">
        <div class="inline-block bg-blue-600 text-white px-4 py-1 rounded-full text-sm font-semibold mb-4">Python Deep Dive</div>
        <h1 class="text-4xl md:text-6xl font-extrabold text-slate-900 mb-4 tracking-tight">
            Mastering <span class="text-blue-600">Requests</span> & <span class="text-orange-500">Modern Tooling</span>
        </h1>
        <p class="text-xl text-gray-600 max-w-3xl mx-auto">
            A visual guide to the "HTTP for Humans" library, the mechanics of web protocols, and the new wave of high-speed Python package management.
        </p>
    </header>

    <!-- Main Grid -->
    <main class="max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-8">

        <!-- Section 1: The King of Libraries -->
        <section class="col-span-1 md:col-span-2">
            <div class="info-card p-8">
                <div class="flex flex-col md:flex-row items-center justify-between mb-6">
                    <div>
                        <h2 class="text-2xl font-bold text-gray-800 mb-2">The Undisputed King: Requests</h2>
                        <p class="text-gray-600">
                            The <code>requests</code> module is essential. It abstracts away the complexities of making HTTP calls. While built-in libraries exist, `requests` dominates due to its simplicity.
                        </p>
                    </div>
                    <div class="mt-4 md:mt-0 text-center bg-blue-50 p-4 rounded-xl">
                        <span class="block text-4xl font-black text-blue-600">30M+</span>
                        <span class="text-sm text-blue-800 font-semibold">Daily Downloads</span>
                    </div>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
                    <div>
                        <p class="mb-4 text-gray-600 text-sm leading-relaxed">
                            Comparing <code>requests</code> to other standard libraries highlights why it is the industry standard. It handles connection pooling, keep-alive, and decoding automatically, whereas standard libraries require manual configuration.
                        </p>
                        <ul class="space-y-2">
                            <li class="flex items-center text-sm font-medium text-gray-700">
                                <span class="w-6 h-6 rounded-full bg-green-100 text-green-600 flex items-center justify-center mr-3">‚úì</span>
                                Automatic Content Decoding
                            </li>
                            <li class="flex items-center text-sm font-medium text-gray-700">
                                <span class="w-6 h-6 rounded-full bg-green-100 text-green-600 flex items-center justify-center mr-3">‚úì</span>
                                Connection Pooling (Sessions)
                            </li>
                            <li class="flex items-center text-sm font-medium text-gray-700">
                                <span class="w-6 h-6 rounded-full bg-green-100 text-green-600 flex items-center justify-center mr-3">‚úì</span>
                                Cookie Persistence
                            </li>
                        </ul>
                    </div>
                    <!-- CHART: Comparative Popularity -->
                    <div class="chart-container">
                        <canvas id="popularityChart"></canvas>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 2: HTTP Methods (The Grammar) -->
        <section class="col-span-1">
            <div class="info-card p-6 h-full">
                <h3 class="text-xl font-bold text-gray-800 mb-4 border-l-4 border-orange-500 pl-3">HTTP Methods: The Verbs</h3>
                <p class="text-gray-600 mb-6 text-sm">
                    HTTP acts as a contract. The "Method" tells the server the intent of the request. Mixing these up (like using GET to create data) is a common architectural flaw.
                </p>
                <div class="chart-container">
                    <canvas id="methodsChart"></canvas>
                </div>
                <div class="mt-4 grid grid-cols-2 gap-4 text-center">
                    <div class="bg-blue-50 p-2 rounded">
                        <div class="font-bold text-blue-700">GET</div>
                        <div class="text-xs text-blue-600">Read Data (Safe)</div>
                    </div>
                    <div class="bg-orange-50 p-2 rounded">
                        <div class="font-bold text-orange-700">POST</div>
                        <div class="text-xs text-orange-600">Create Data</div>
                    </div>
                    <div class="bg-purple-50 p-2 rounded">
                        <div class="font-bold text-purple-700">PUT</div>
                        <div class="text-xs text-purple-600">Replace All</div>
                    </div>
                    <div class="bg-red-50 p-2 rounded">
                        <div class="font-bold text-red-700">DELETE</div>
                        <div class="text-xs text-red-600">Destroy</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 3: Status Codes (The Response) -->
        <section class="col-span-1">
            <div class="info-card p-6 h-full">
                <h3 class="text-xl font-bold text-gray-800 mb-4 border-l-4 border-purple-500 pl-3">Status Codes: The Traffic Lights</h3>
                <p class="text-gray-600 mb-6 text-sm">
                    Requests is "passive" about errors. A 404 does not crash your script. You must understand the families of codes to handle them using <code>raise_for_status()</code>.
                </p>
                <div class="chart-container">
                    <canvas id="statusCodeChart"></canvas>
                </div>
                <div class="mt-4 text-xs text-gray-500 text-center italic">
                    Note: 4xx is YOUR fault. 5xx is THEIR fault.
                </div>
            </div>
        </section>

        <!-- Section 4: The Speed Revolution (UV vs PIP) -->
        <section class="col-span-1 md:col-span-2">
            <div class="info-card p-8 bg-gradient-to-br from-slate-900 to-slate-800 text-white">
                <div class="flex flex-col md:flex-row items-center justify-between mb-6">
                    <div>
                        <h2 class="text-2xl font-bold mb-2 text-yellow-400">The Modern Tooling Revolution</h2>
                        <p class="text-gray-300">
                            Python tooling has evolved. We are moving from slow, script-based installers (`pip`) to blazing fast, compiled Rust tools like `uv`.
                        </p>
                    </div>
                    <div class="mt-4 md:mt-0">
                        <span class="text-5xl">‚ö°</span>
                    </div>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
                    <div class="chart-container">
                        <canvas id="speedChart"></canvas>
                    </div>
                    <div>
                        <h4 class="font-bold text-lg mb-4 text-orange-400">Why UV is a Game Changer</h4>
                        <ul class="space-y-4">
                            <li class="flex items-start">
                                <span class="mr-3 mt-1 text-green-400">‚û§</span>
                                <div>
                                    <span class="font-bold block">Written in Rust</span>
                                    <span class="text-sm text-gray-400">Compiled code runs orders of magnitude faster than Python scripts.</span>
                                </div>
                            </li>
                            <li class="flex items-start">
                                <span class="mr-3 mt-1 text-green-400">‚û§</span>
                                <div>
                                    <span class="font-bold block">Unified Workflow</span>
                                    <span class="text-sm text-gray-400">Manages Python versions, virtual environments, and dependencies in one tool.</span>
                                </div>
                            </li>
                            <li class="flex items-start">
                                <span class="mr-3 mt-1 text-green-400">‚û§</span>
                                <div>
                                    <span class="font-bold block">Global Cache</span>
                                    <span class="text-sm text-gray-400">Never download the same package version twice across different projects.</span>
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 5: Evolution of Config (Vertical Timeline) -->
        <section class="col-span-1 md:col-span-2">
            <div class="info-card p-8">
                <h2 class="text-2xl font-bold text-gray-800 mb-8 text-center">The Evolution of Project Config</h2>
                
                <div class="relative max-w-3xl mx-auto">
                    <!-- Vertical Line -->
                    <div class="timeline-line hidden md:block"></div>

                    <!-- Step 1 -->
                    <div class="relative z-10 grid grid-cols-1 md:grid-cols-2 gap-8 mb-12">
                        <div class="text-right md:pr-10 pt-2">
                            <h3 class="font-bold text-lg text-gray-500">The Dark Ages (2010s)</h3>
                            <div class="text-2xl font-black text-gray-400">setup.py</div>
                        </div>
                        <div class="bg-gray-100 p-4 rounded-lg border-l-4 border-gray-400 shadow-sm md:ml-10">
                            <p class="text-sm text-gray-600">
                                <strong>Executable Code:</strong> Dependencies were hidden inside a Python script. Security risk and hard to parse without running.
                            </p>
                        </div>
                    </div>

                    <!-- Step 2 -->
                    <div class="relative z-10 grid grid-cols-1 md:grid-cols-2 gap-8 mb-12">
                        <div class="order-2 md:order-1 bg-blue-50 p-4 rounded-lg border-r-4 border-blue-400 shadow-sm md:mr-10 text-right">
                             <p class="text-sm text-gray-600">
                                <strong>The "List" Era:</strong> A simple text file. Solved the parsing issue but lacked structure, version locking, or dev-tool settings.
                            </p>
                        </div>
                        <div class="order-1 md:order-2 text-left md:pl-10 pt-2">
                            <h3 class="font-bold text-lg text-blue-500">The Standardization</h3>
                            <div class="text-2xl font-black text-blue-600">requirements.txt</div>
                        </div>
                    </div>

                    <!-- Step 3 -->
                    <div class="relative z-10 grid grid-cols-1 md:grid-cols-2 gap-8">
                        <div class="text-right md:pr-10 pt-2">
                            <h3 class="font-bold text-lg text-orange-500">The Modern Era</h3>
                            <div class="text-2xl font-black text-orange-600">pyproject.toml</div>
                        </div>
                        <div class="bg-orange-50 p-4 rounded-lg border-l-4 border-orange-400 shadow-sm md:ml-10">
                            <p class="text-sm text-gray-600">
                                <strong>The Federation:</strong> One file to rule them all. Contains metadata, dependencies, build system, and tool configs (black, ruff, pytest).
                            </p>
                        </div>
                    </div>

                </div>
            </div>
        </section>

        <!-- Section 6: Architecture Checklist -->
        <section class="col-span-1 md:col-span-2">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                <!-- Card 1 -->
                <div class="info-card p-6 border-t-4 border-red-500">
                    <div class="text-3xl mb-4">üõ°Ô∏è</div>
                    <h3 class="font-bold text-lg mb-2">Safety First</h3>
                    <p class="text-sm text-gray-600 mb-3">
                        Always use timeouts. The default is infinite.
                    </p>
                    <code class="block bg-gray-900 text-red-300 p-2 rounded text-xs font-mono">
                        requests.get(url, timeout=5)
                    </code>
                </div>
                <!-- Card 2 -->
                <div class="info-card p-6 border-t-4 border-green-500">
                    <div class="text-3xl mb-4">üöÄ</div>
                    <h3 class="font-bold text-lg mb-2">Use Sessions</h3>
                    <p class="text-sm text-gray-600 mb-3">
                        Don't open/close TCP per request. Reuse connections.
                    </p>
                    <code class="block bg-gray-900 text-green-300 p-2 rounded text-xs font-mono">
                        s = requests.Session()
                    </code>
                </div>
                <!-- Card 3 -->
                <div class="info-card p-6 border-t-4 border-blue-500">
                    <div class="text-3xl mb-4">üîç</div>
                    <h3 class="font-bold text-lg mb-2">Check Errors</h3>
                    <p class="text-sm text-gray-600 mb-3">
                        404s don't crash scripts. Be aggressive.
                    </p>
                    <code class="block bg-gray-900 text-blue-300 p-2 rounded text-xs font-mono">
                        r.raise_for_status()
                    </code>
                </div>
            </div>
        </section>

    </main>

    <!-- Footer -->
    <footer class="max-w-7xl mx-auto mt-12 mb-8 text-center text-gray-500 text-sm">
        <p>&copy; 2026 Python Deep Dive. Visualization of the Requests Ecosystem.</p>
    </footer>

    <!-- JavaScript for Charts -->
    <script>
        // --- HELPER: Label Wrapping Logic (>16 chars) ---
        function wrapLabel(label) {
            if (label.length <= 16) return label;
            const words = label.split(' ');
            const lines = [];
            let currentLine = words[0];

            for (let i = 1; i < words.length; i++) {
                if ((currentLine + " " + words[i]).length <= 16) {
                    currentLine += " " + words[i];
                } else {
                    lines.push(currentLine);
                    currentLine = words[i];
                }
            }
            lines.push(currentLine);
            return lines;
        }

        // --- COMMON: Tooltip Configuration ---
        const commonTooltipOptions = {
            callbacks: {
                title: function(tooltipItems) {
                    const item = tooltipItems[0];
                    let label = item.chart.data.labels[item.dataIndex];
                    if (Array.isArray(label)) {
                        return label.join(' ');
                    } else {
                        return label;
                    }
                }
            }
        };

        // --- CHART 1: Popularity (Bar) ---
        const ctxPop = document.getElementById('popularityChart').getContext('2d');
        const popLabels = ["Requests", "Urllib3", "Flask", "Django", "FastAPI"];
        const wrappedPopLabels = popLabels.map(wrapLabel);
        
        new Chart(ctxPop, {
            type: 'bar',
            data: {
                labels: wrappedPopLabels,
                datasets: [{
                    label: 'Monthly Downloads (Millions)',
                    data: [180, 150, 80, 25, 40],
                    backgroundColor: [
                        '#3B82F6', // Requests Blue
                        '#93C5FD',
                        '#CBD5E1',
                        '#CBD5E1',
                        '#CBD5E1'
                    ],
                    borderRadius: 6
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    tooltip: commonTooltipOptions,
                    legend: { display: false }
                },
                scales: {
                    y: { beginAtZero: true, grid: { display: false } },
                    x: { grid: { display: false } }
                }
            }
        });

        // --- CHART 2: HTTP Methods (Doughnut) ---
        const ctxMethod = document.getElementById('methodsChart').getContext('2d');
        const methodLabels = ["GET (Read)", "POST (Create)", "PUT/PATCH (Update)", "DELETE (Remove)"];
        const wrappedMethodLabels = methodLabels.map(wrapLabel);

        new Chart(ctxMethod, {
            type: 'doughnut',
            data: {
                labels: wrappedMethodLabels,
                datasets: [{
                    data: [65, 25, 8, 2],
                    backgroundColor: ['#3B82F6', '#F97316', '#8B5CF6', '#EF4444'],
                    borderWidth: 0,
                    hoverOffset: 10
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    tooltip: commonTooltipOptions,
                    legend: { display: false } // Custom legend in HTML
                },
                cutout: '70%'
            }
        });

        // --- CHART 3: Status Codes (Bar) ---
        const ctxStatus = document.getElementById('statusCodeChart').getContext('2d');
        const statusLabels = ["2xx Success", "3xx Redirect", "4xx Client Error", "5xx Server Error"];
        const wrappedStatusLabels = statusLabels.map(wrapLabel);

        new Chart(ctxStatus, {
            type: 'bar',
            data: {
                labels: wrappedStatusLabels,
                datasets: [{
                    label: 'Common Frequency',
                    data: [80, 5, 12, 3],
                    backgroundColor: ['#10B981', '#FCD34D', '#F97316', '#EF4444'],
                    borderRadius: 4
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    tooltip: commonTooltipOptions,
                    legend: { display: false }
                },
                scales: {
                    y: { display: false },
                    x: { grid: { display: false } }
                }
            }
        });

        // --- CHART 4: Speed Comparison (Horizontal Bar) ---
        const ctxSpeed = document.getElementById('speedChart').getContext('2d');
        const speedLabels = ["Legacy Pip Install", "Modern UV Install"];
        const wrappedSpeedLabels = speedLabels.map(wrapLabel);

        new Chart(ctxSpeed, {
            type: 'bar', // 'bar' with indexAxis: 'y' creates horizontal bar
            data: {
                labels: wrappedSpeedLabels,
                datasets: [{
                    label: 'Time to Install (Seconds - Lower is Better)',
                    data: [12.5, 0.8],
                    backgroundColor: ['#475569', '#F97316'],
                    borderRadius: 8,
                    barPercentage: 0.6
                }]
            },
            options: {
                indexAxis: 'y',
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    tooltip: commonTooltipOptions,
                    legend: { display: true, position: 'bottom' }
                },
                scales: {
                    x: { beginAtZero: true, title: { display: true, text: 'Seconds (Lower is Better)' } },
                    y: { grid: { display: false } }
                }
            }
        });

    </script>
</body>
</html>